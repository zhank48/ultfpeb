# 🚀 ULT FPEB Production Configuration
# Configuration file for Ubuntu deployment scripts

# ═══════════════════════════════════════════════════════════════
# 📊 PROJECT CONFIGURATION
# ═══════════════════════════════════════════════════════════════

PROJECT_NAME="ult-fpeb"
PROJECT_TITLE="ULT FPEB Visitor Management System"
PROJECT_VERSION="2.0.0"

# ═══════════════════════════════════════════════════════════════
# 🗄️  DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

DB_NAME="ult_fpeb_db"
DB_USER="ult_fpeb_user"
# DB_PASSWORD will be prompted during installation for security

# ═══════════════════════════════════════════════════════════════
# 📁 DIRECTORY CONFIGURATION
# ═══════════════════════════════════════════════════════════════

APP_DIR="/var/www/ult-fpeb"
FRONTEND_DIR="/var/www/ult-fpeb-frontend"
BACKUP_DIR="/backups/ult-fpeb"
LOG_DIR="/var/log/ult-fpeb"

# ═══════════════════════════════════════════════════════════════
# 🌐 NETWORK CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Server ports
FRONTEND_PORT="80"
BACKEND_PORT="3001"
API_PORT="3001"

# CORS settings (for local network access)
CORS_ORIGINS="*"
ALLOWED_NETWORKS="192.168.0.0/16,10.0.0.0/8,172.16.0.0/12"

# ═══════════════════════════════════════════════════════════════
# 🔒 SECURITY CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# JWT Configuration
JWT_EXPIRES_IN="24h"
BCRYPT_ROUNDS="12"

# Session Configuration
SESSION_TIMEOUT="3600000"  # 1 hour in milliseconds

# Rate Limiting
RATE_LIMIT_WINDOW="900000"  # 15 minutes in milliseconds
RATE_LIMIT_MAX="1000"       # Max requests per window

# File Upload
MAX_FILE_SIZE="10485760"    # 10MB in bytes
UPLOAD_TYPES="jpg,jpeg,png,gif,pdf,doc,docx"

# ═══════════════════════════════════════════════════════════════
# 🛠️  SYSTEM CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Node.js version
NODE_VERSION="18"

# PM2 Configuration
PM2_INSTANCES="1"
PM2_MAX_MEMORY="1G"
PM2_APP_NAME="ult-fpeb-backend"

# Nginx Configuration
NGINX_WORKER_PROCESSES="auto"
NGINX_CLIENT_MAX_BODY_SIZE="10M"

# ═══════════════════════════════════════════════════════════════
# 📧 NOTIFICATION CONFIGURATION (Optional)
# ═══════════════════════════════════════════════════════════════

# Email settings for deployment notifications
# NOTIFICATION_EMAIL=""
# SMTP_HOST=""
# SMTP_PORT="587"
# SMTP_USER=""
# SMTP_PASS=""

# ═══════════════════════════════════════════════════════════════
# 🔄 BACKUP CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Backup retention (days)
BACKUP_RETENTION_DAYS="30"

# Backup compression
BACKUP_COMPRESSION="gzip"

# Database backup
DB_BACKUP_ENABLED="true"

# ═══════════════════════════════════════════════════════════════
# 🌍 DOMAIN CONFIGURATION (Optional)
# ═══════════════════════════════════════════════════════════════

# Domain name (leave empty for IP-based access)
DOMAIN_NAME=""

# SSL Configuration
SSL_ENABLED="false"
SSL_EMAIL=""  # For Let's Encrypt

# ═══════════════════════════════════════════════════════════════
# 🚀 DEPLOYMENT OPTIONS
# ═══════════════════════════════════════════════════════════════

# Auto-start services after deployment
AUTO_START_SERVICES="true"

# Install development tools
INSTALL_DEV_TOOLS="false"

# Enable monitoring
ENABLE_MONITORING="true"

# Create management tools
CREATE_MANAGEMENT_TOOLS="true"

# ═══════════════════════════════════════════════════════════════
# 🎨 CUSTOMIZATION
# ═══════════════════════════════════════════════════════════════

# Application branding
APP_TITLE="ULT FPEB - Visitor Management"
APP_DESCRIPTION="University Service Unit - Faculty of Economics and Business Education"

# Default admin credentials (CHANGE AFTER FIRST LOGIN!)
DEFAULT_ADMIN_EMAIL="admin@ult-fpeb.ac.id"
DEFAULT_ADMIN_PASSWORD="admin123"

# ═══════════════════════════════════════════════════════════════
# 🔧 ADVANCED CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Logging level
LOG_LEVEL="info"

# Debug mode
DEBUG_MODE="false"

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING="true"

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL="60"

# Database connection pool
DB_CONNECTION_LIMIT="10"
DB_TIMEOUT="60000"

# ═══════════════════════════════════════════════════════════════
# 📊 MONITORING THRESHOLDS
# ═══════════════════════════════════════════════════════════════

# System resource thresholds for alerts
CPU_THRESHOLD="80"          # Percentage
MEMORY_THRESHOLD="90"       # Percentage
DISK_THRESHOLD="85"         # Percentage

# Response time thresholds (seconds)
FRONTEND_RESPONSE_THRESHOLD="2.0"
API_RESPONSE_THRESHOLD="1.0"

# ═══════════════════════════════════════════════════════════════
# 🌟 FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════

# Enable/disable specific features
ENABLE_COMPLAINT_MANAGEMENT="true"
ENABLE_LOST_ITEMS="true"
ENABLE_FEEDBACK_SYSTEM="true"
ENABLE_EXPORT_REPORTS="true"
ENABLE_USER_MANAGEMENT="true"

# ═══════════════════════════════════════════════════════════════
# 📝 NOTES
# ═══════════════════════════════════════════════════════════════

# This configuration file is used by:
# - deploy-ubuntu-enhanced.sh
# - verify-deployment-enhanced.sh
# - complete-deployment-manager.js

# To customize your deployment:
# 1. Copy this file to deploy-config.local.env
# 2. Modify the values in the local file
# 3. The deployment scripts will use local config if available

# For security:
# - Database passwords are prompted during installation
# - JWT secrets are auto-generated
# - Change default admin credentials after first login
# - Review firewall and CORS settings for your network

# For production:
# - Set DEBUG_MODE="false"
# - Configure proper domain name and SSL
# - Set up monitoring and alerting
# - Configure backup retention policies
# - Review and adjust resource thresholds
